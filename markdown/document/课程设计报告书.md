# 工单管理系统课程设计报告书

## 1. 项目概述

### 1.1 项目背景
随着企业规模的不断扩大，传统的纸质工单管理方式已经无法满足现代企业的需求。为了提高工作效率，规范工单处理流程，实现工单的数字化管理，开发一套完整的工单管理系统成为当务之急。

### 1.2 项目目标
- 实现工单的在线创建、分配、审批、处理、验收等全流程管理
- 提供直观的数据统计和可视化展示
- 支持多级审批流程的灵活配置
- 实现用户权限管理和组织架构管理
- 提供友好的用户界面和良好的用户体验

### 1.3 技术栈选择
- **前端框架**: Vue 3.3.8
- **构建工具**: Vite 5.0.0
- **UI组件库**: Element Plus 2.4.2
- **状态管理**: Pinia 2.1.7
- **路由管理**: Vue Router 4.2.5
- **HTTP客户端**: Axios 1.6.2
- **图表库**: ECharts 5.4.3
- **拖拽组件**: Vue Draggable 4.1.0

## 2. 需求分析

### 2.1 功能需求

#### 2.1.1 用户管理模块
- 用户登录/登出
- 个人信息管理
- 用户权限控制
- 组织架构管理

#### 2.1.2 工单管理模块
- 工单创建
- 工单分配
- 工单审批
- 工单处理
- 工单验收
- 工单查询

#### 2.1.3 工作流管理模块
- 工作流创建
- 工作流编辑
- 工作流删除
- 节点配置

#### 2.1.4 统计分析模块
- 工单状态统计
- 处理数量统计
- 待办事项统计
- 数据可视化

### 2.2 非功能需求
- 响应式设计，支持多设备访问
- 良好的用户体验和界面美观
- 数据安全性保障
- 系统性能优化

## 3. 系统设计

### 3.1 系统架构设计

#### 3.1.1 整体架构
采用前后端分离的架构模式：
- 前端：Vue 3 + Element Plus
- 后端：RESTful API接口
- 数据库：关系型数据库

#### 3.1.2 前端架构
```
src/
├── api/          # API接口封装
├── assets/       # 静态资源
├── components/   # 公共组件
├── router/       # 路由配置
├── stores/       # 状态管理
├── utils/        # 工具函数
├── views/        # 页面组件
└── main.js       # 入口文件
```

### 3.2 数据库设计

#### 3.2.1 主要数据表
- 用户表（users）
- 工单表（workorders）
- 工作流表（workflows）
- 工作流节点表（workflow_nodes）
- 处理记录表（handle_records）
- 组织架构表（organizations）

### 3.3 接口设计

#### 3.3.1 用户相关接口
- POST /user/login - 用户登录
- POST /user/me - 获取个人信息
- POST /user/change - 修改个人信息

#### 3.3.2 工单相关接口
- POST /workorder/create - 创建工单
- POST /workorder/page - 分页查询工单
- POST /workorder/detail - 获取工单详情
- POST /workorder/approve - 审批工单
- POST /workorder/assign - 分配工单

#### 3.3.3 工作流相关接口
- POST /flow/create - 创建工作流
- POST /flow/edit - 编辑工作流
- POST /flow/delete - 删除工作流
- POST /flow/page - 分页查询工作流

## 4. 实现过程

### 4.1 项目初始化
1. 使用Vite创建Vue 3项目
2. 安装必要的依赖包
3. 配置Element Plus组件库
4. 配置路由和状态管理

### 4.2 核心功能实现

#### 4.2.1 用户认证模块
- 实现登录页面和表单验证
- 配置路由守卫进行权限控制
- 实现Token管理和自动登录

#### 4.2.2 工单管理模块
- 实现工单创建表单
- 实现工单列表和分页
- 实现工单详情页面
- 实现工单状态流转

#### 4.2.3 工作流管理模块
- 实现工作流配置界面
- 实现节点拖拽功能
- 实现工作流预览功能

#### 4.2.4 数据统计模块
- 集成ECharts图表库
- 实现各种统计图表
- 实现数据导出功能

### 4.3 界面设计
- 采用现代化的设计风格
- 使用Element Plus组件保持一致性
- 实现响应式布局
- 优化用户交互体验

## 5. 测试结果

### 5.1 功能测试
- 用户登录功能测试：通过
- 工单创建功能测试：通过
- 工单审批功能测试：通过
- 工作流配置功能测试：通过
- 数据统计功能测试：通过

### 5.2 兼容性测试
- Chrome浏览器：通过
- Firefox浏览器：通过
- Safari浏览器：通过
- Edge浏览器：通过

### 5.3 性能测试
- 页面加载时间：< 2秒
- 数据查询响应时间：< 1秒
- 内存占用：正常范围

## 6. 项目总结

### 6.1 项目成果
- 成功实现了完整的工单管理系统
- 提供了友好的用户界面
- 实现了灵活的工作流配置
- 提供了丰富的数据统计功能

### 6.2 技术收获
- 深入学习了Vue 3的新特性
- 掌握了Element Plus的使用
- 学会了前后端分离开发
- 提升了项目架构设计能力

### 6.3 不足与改进
- 可以进一步优化性能
- 可以增加更多的数据可视化功能
- 可以完善移动端适配
- 可以增加更多的安全措施

## 7. 附录

### 7.1 项目目录结构
```
frontend/
├── public/           # 静态资源
├── src/              # 源代码
│   ├── api/          # API接口
│   ├── assets/       # 资源文件
│   ├── components/   # 组件
│   ├── router/       # 路由
│   ├── stores/       # 状态管理
│   ├── utils/        # 工具函数
│   ├── views/        # 页面
│   ├── App.vue       # 根组件
│   └── main.js       # 入口文件
├── package.json      # 依赖配置
├── vite.config.js    # Vite配置
└── README.md         # 项目说明
```

### 7.2 主要依赖包
```json
{
  "vue": "^3.3.8",
  "element-plus": "^2.4.2",
  "pinia": "^2.1.7",
  "vue-router": "^4.2.5",
  "axios": "^1.6.2",
  "echarts": "^5.4.3",
  "vuedraggable": "^4.1.0"
}
```

### 7.3 运行说明
1. 安装依赖：`npm install`
2. 启动开发服务器：`npm run dev`
3. 构建生产版本：`npm run build`
4. 预览生产版本：`npm run preview` 